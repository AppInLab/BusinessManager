<div class="row-fluid">
    <div class="span2 responsive" data-tablet="span6" data-desktop="span2">
        <input class="m-wrap span12" type="text" name="name" value="" placeholder="Recherche">
        <div id="categorieProduit" class="list-item">
            <ul>
                <li ng-class="{active: categorie.Id == SelectedItem}" ng-repeat="categorie in Categories" ng-click="ChargerProduits(categorie)">
                    <a>{{categorie.Libelle}}</a>
                </li>
            </ul>
        </div>
    </div>

    <div class="span5 responsive" data-tablet="span6" data-desktop="span5">
        <div class="title2">
            Produits
        </div>
        <div id="listProduits" class="row-fluid">
            <div ng-click="Init(cProduit)" class="button-tem" data-toggle="modal" data-target="#AjouterProduitAuPanier" ng-repeat="cProduit in ProduitsParCategorie">
                <i class="text-bold">{{cProduit.Libelle}}</i>
                <div></div>
                <span class="badge" ng-class="{'badge-success' : cProduit.QuantiteStockBlock > cProduit.StockMinimum, 'badge-important' : cProduit.QuantiteStockBlock <= cProduit.StockMinimum}" ng-if="cProduit.UniteParBlock > 1">{{cProduit.QuantiteStockBlock}} <span ng-if="cProduit.QuantiteStockResteEnUnite > 0">[{{cProduit.QuantiteStockResteEnUnite}}]</span></span>
                <span class="badge" ng-class="{'badge-success' : cProduit.QuantiteStockBlock > cProduit.StockMinimum, 'badge-important' : cProduit.QuantiteStockBlock <= cProduit.StockMinimum}" ng-if="cProduit.UniteParBlock <= 1">{{cProduit.QuantiteStockBlock}}</span>
            </div>
        </div>
    </div>

    <div class="span5 responsive" data-tablet="span6" data-desktop="span5">
        <div class="title2">
            Détails de la note
        </div>
        <div id="detailVente" class="flip-scroll">
            <table class="table-bordered table-striped table-condensed flip-content">
                <thead>
                    <tr>
                        <th class="alignleft">DESI.</th>
                        <th class="aligncenter">QTE</th>
                        <th class="aligncenter">PU</th>
                        <th class="aligncenter">TOT</th>
                        <th class="aligncenter">#</th>
                    </tr>
                </thead>
                <tbody>
                    <tr dir-paginate="panierItem in Panier | itemsPerPage: 10">
                        <td>{{panierItem.Produit.Libelle}}</td>
                        <td class="aligncenter">
                            <span ng-if="panierItem.TypeVenteId == TYPE_VENTE_UNITE_KEY">{{panierItem.QuantiteUnitaire}} {{panierItem.Produit.Unite.Libelle | limitTo : 4}}{{panierItem.Produit.Unite.Libelle.length > 4 ? '.' : ''}}</span>
                            <span ng-if="panierItem.TypeVenteId == TYPE_VENTE_BLOCK_KEY">{{panierItem.QuantiteBlock}} {{panierItem.Produit.Block.Libelle | limitTo : 4}}{{panierItem.Produit.Block.Libelle.length > 4 ? '.' : ''}}</span>
                        </td>
                        <td class="aligncenter">
                            <span ng-if="panierItem.TypeVenteId == TYPE_VENTE_UNITE_KEY">{{panierItem.PrixUnitaire}}</span>
                            <span ng-if="panierItem.TypeVenteId == TYPE_VENTE_BLOCK_KEY">{{panierItem.PrixBlock}}</span>
                        </td>
                        <td class="alignright">{{panierItem.Totaux}}</td>
                        <td>
                            <a ng-click="SupprimerItemPanier($index)" class="btn mini red"><i class="icon-trash"></i></a>
                            <a ng-click="Modifier(panierItem)" data-toggle="modal" data-target="#AjouterProduitAuPanier" class="btn mini default"><i class="icon-edit"></i></a>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="row-fluid">
                <div class="span12">
                    <div class="dataTables_paginate paging_bootstrap pagination">
                        <dir-pagination-controls></dir-pagination-controls>
                    </div>
                </div>
            </div>
        </div>
        <div id="footerVente">
            <h3>Total: <span class="pull-right text-bold">{{TotauxPanier}} F</span></h3>
            <p>
                <a ng-if="Panier.length > 0" data-toggle="modal" data-target="#cash" class="btn blue big" ng-click="CaisseInit()"> CASH</a>
                <!--<a class="btn purple big" data-toggle="modal" data-target="#venteClient" ng-click="CaisseInit()"><i class="icon-user"></i> CLIENT</a>-->
                <a class="btn big" data-toggle="modal" data-target="#confirmationAnnulation"><i class="icon-cancel"></i> ANNULER</a>
            </p>
        </div>
    </div>
</div>

<div id="confirmationAnnulation" class="modal hide fade" tabindex="-1" data-width="760" aria-hidden="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
        <h3>Annulation</h3>
    </div>
    <div class="modal-body">
        <h4>Voulez-vous annuler cette vente ?</h4>
    </div>
    <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn">Non</button>
        <button type="button" data-dismiss="modal" class="btn red" ng-click="ResetComptoir()">Oui</button>
    </div>
</div>

<div id="venteClient" class="modal hide fade in" tabindex="-1" aria-hidden="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
        <h3>Vente client</h3>
        <div class="form-wizard">
            <div class="navbar steps" style="margin:0;padding:0;">
                <div class="navbar-inner" style="padding:0;">
                    <ul class="row-fluid nav nav-pills">
                        <li class="span4 active ">
                            <a href="" data-toggle="tab" class="step">
                                <span class="number">1</span>
                                <div class="desc"><i class="icon-ok"></i> Select. client</div>
                            </a>
                        </li>
                        <li class="span4">
                            <a href="" data-toggle="tab" class="step">
                                <span class="number">2</span>
                                <span class="desc"><i class="icon-ok"></i> Nouv. client</span>
                            </a>
                        </li>
                        <li class="span4">
                            <a href="" data-toggle="tab" class="step active">
                                <span class="number">3</span>
                                <span class="desc"><i class="icon-ok"></i> Caisse</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-body">
        <div class="form-wizard">
            <div class="tab-content">
                <div class="alert alert-error hide" style="display: none;">
                    <button class="close" data-dismiss="alert"></button>
                    You have some form errors. Please check below.
                </div>
                <div class="alert alert-success hide" style="display: none;">
                    <button class="close" data-dismiss="alert"></button>
                    Your form validation is successful!
                </div>
                
                <div class="tab-pane active" id="tab1">
                    <!--<h4>Selectionner un client</h4>-->
                    <div class="row-fluid">
                        <div class="span12" data-tablet="span6" data-desktop="span12">
                            <input class="m-wrap span12" type="text" name="name" value="" placeholder="Recherche">
                            <div id="categorieProduit" class="list-item" style="height:200px;overflow-y:auto">
                                <ul>
                                    <li ng-class="{active: client.Id == ClientSelected.Id}" ng-repeat="client in Clients" ng-click="SelectionnerClient(client)">
                                        <a>{{client.NomComplet}}</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div>
                        <span class="text text-bold help-inline" style="color:black">{{ClientSelected.NomComplet}}</span>
                        <div class="pull-right">
                            <button type="button" data-dismiss="modal" class="btn blue">Nouveau client</button>
                            <button type="button" data-dismiss="modal" class="btn green">Continuer</button>
                        </div>
                    </div>

                </div>
                <div class="tab-pane" id="tab2">
                    <!--<h4>Entrer les informations du nouveau client</h4>-->
                    <div>
                        <div class="control-group">
                            <label class="control-label">Nom complet<span class="required">*</span></label>
                            <div class="controls">
                                <input type="text" class="span12 m-wrap">
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label">Adresse</label>
                            <div class="controls">
                                <input type="text" class="span12 m-wrap">
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label">Contacts<span class="required">*</span></label>
                            <div class="controls">
                                <input type="text" class="span12 m-wrap">
                            </div>
                        </div>
                    </div>

                    <div class="pull-right">
                        <button type="button" data-dismiss="modal" class="btn green">Continuer</button>
                    </div>
                </div>
                <div class="tab-pane" id="tab3">
                    <div class="row-fluid">
                        <div class="span12">
                            <form class="form form-horizontal form-row-seperated">
                                <div class="control-group">
                                    <label class="control-label">MONTANT TTC </label>
                                    <div class="controls">
                                        <div class="input-append">
                                            <input class="m-wrap" style="font-weight:bold" type="text" ng-model="TotauxPanier" disabled /><span class="add-on"> F</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">Remise</label>
                                    <div class="controls">
                                        <div class="input-append">
                                            <input class="m-wrap" ng-change="CalculerCaisse()" ng-model="Caisse.Remise" type="number" min="0" required>
                                            <span class="add-on"> F</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">NET A PAYER</label>
                                    <div class="controls">
                                        <div class="input-append">
                                            <input class="m-wrap" style="font-weight:bold" ng-model="Caisse.NetApayer" type="text" disabled />
                                            <span class="add-on"> F</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">Motant perçu</label>
                                    <div class="controls">
                                        <div class="input-append">
                                            <input class="m-wrap" type="number" ng-change="CalculerCaisse()" ng-model="Caisse.MontantPercu" min="0" required />
                                            <span class="add-on"> F</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">Montant rendu</label>
                                    <div class="controls">
                                        <div class="input-append">
                                            <input class="m-wrap" style="font-weight:bold" ng-model="Caisse.MontantRendu" type="text" disabled />
                                            <span class="add-on"> F</span>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn default">Annuler</button>
        <button type="button" data-dismiss="modal" class="btn blue">Valider</button>
    </div>
</div>

<div id="client" class="modal hide fade" tabindex="-1" data-width="760" aria-hidden="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
        <h3>Client</h3>
    </div>
    <div class="modal-body">
        <div class="row-fluid">
            <div class="span12">
                <div class="tabbable tabbable-custom">
                    <ul class="nav nav-tabs">
                        <li class="active"><a data-target="#tab_1_1" data-toggle="tab">Selectionner un client</a></li>
                        <li class=""><a data-target="#tab_1_2" data-toggle="tab">Nouveau client</a></li>
                    </ul>
                    <div class="tab-content">
                        <div class="tab-pane active" id="tab_1_1">
                            <input type="text" name="name" value="" class="form-control" placeholder="Recherche" />

                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Noms</th>
                                        <th>Contact</th>
                                        <th>#</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>KLMKLMMM</td>
                                        <td>KLMKLMMM</td>
                                        <td>
                                            <a href="#" class="btn mini primary"> Choisir</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="tab-pane" id="tab_1_2">
                            <form class="form">
                                <div class="control-group">
                                    <label class="control-label">Nom complet</label>
                                    <div class="controls">
                                        <input type="text" class="span12 m-wrap ">
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">Adresse</label>
                                    <div class="controls">
                                        <textarea name="name" rows="2" class="span12 m-wrap"></textarea>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">Contact</label>
                                    <div class="controls">
                                        <input type="text" class="span12 m-wrap">
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">Téléphone</label>
                                    <div class="controls">
                                        <input type="text" class="span12 m-wrap">
                                    </div>
                                </div>
                            </form>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn">Annuler</button>
        <button type="button" class="btn blue">Valider</button>
    </div>
</div>

<div id="cash" class="modal hide fade" tabindex="-1" data-width="760" aria-hidden="true">
	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
		<h3>Cash</h3>
	</div>
	<div class="modal-body">
	  <div class="row-fluid">
			<div class="span12">
                <form class="form form-horizontal form-row-seperated">

                    <div class="control-group">
                        <label class="control-label">MONTANT TTC </label>
                        <div class="controls">
                            <div class="input-append">
                                <input class="m-wrap" style="font-weight:bold" type="text" ng-model="TotauxPanier" disabled/><span class="add-on"> F</span>
                            </div>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label">Remise</label>
                        <div class="controls">
                            <div class="input-append">
                                <input class="m-wrap" ng-change="CalculerCaisse()" ng-model="Caisse.Remise" type="number" min="0" required>
                                <span class="add-on"> F</span>
                            </div>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label">NET A PAYER</label>
                        <div class="controls">
                            <div class="input-append">
                                <input class="m-wrap" style="font-weight:bold" ng-model="Caisse.NetApayer" type="text" disabled />
                                <span class="add-on"> F</span>
                            </div>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label">Motant perçu</label>
                        <div class="controls">
                            <div class="input-append">
                                <input class="m-wrap" type="number" ng-change="CalculerCaisse()" ng-model="Caisse.MontantPercu" min="0" required />
                                <span class="add-on"> F</span>
                            </div>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label">Montant rendu</label>
                        <div class="controls">
                            <div class="input-append">
                                <input class="m-wrap" style="font-weight:bold" ng-model="Caisse.MontantRendu" type="text" disabled />
                                <span class="add-on"> F</span>
                            </div>
                        </div>
                    </div>
                </form>
			</div>
		</div>
  </div>
	<div class="modal-footer">
		<button type="button" data-dismiss="modal" class="btn">Annuler</button>
        <button type="button" ng-click="SendData('cash', false)" class="btn blue">Valider</button>
        <button type="button" ng-click="SendData('cash', true)" class="btn green">Valider &amp; Ticket</button>
        <!--<button type="button" ng-click="PrintDowPreview()" class="btn green">Valider &amp; Ticket</button>-->
	</div>
</div>

<div id="AjouterProduitAuPanier" class="modal hide fade" tabindex="-1" data-width="760" aria-hidden="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
        <h3>Ajouter au panier</h3>
    </div>
    <div class="modal-body">
        <div class="row-fluid">
            <div class="span12">
                <form novalidate class="horizontal-form" name="panierForm">
                    <h4 class="form-section text-bold">{{ProduitAajouter.Produit.Libelle}}</h4>
                    
                    <div class="row-fluid">
                        <div class="span12">
                            <div class="control-group">
                                <label class="control-label">Type de vente</label>
                                <div class="controls">
                                    <select class="m-wrap span12" name="typeVente" ng-model="ProduitAajouter.TypeVenteId" required>
                                        <option ng-repeat="item in TypesDeVente" value="{{item.Id}}">{{item.Libelle}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h4 class="form-section" ng-if="(ProduitAajouter.Produit.Unite.IsBlock) && (ProduitAajouter.TypeVenteId == TYPE_VENTE_BLOCK_KEY)">Vente en block</h4>
                    <div class="row-fluid" ng-if="(ProduitAajouter.Produit.Unite.IsBlock) && (ProduitAajouter.TypeVenteId == TYPE_VENTE_BLOCK_KEY)">
                        <div class="span4">
                            <div class="control-group">
                                <label class="control-label">Quantité</label>
                                <div class="controls">
                                    <div class="input-append">
                                        <input type="number" name="quantite" ng-change="Calculer()" ng-model="ProduitAajouter.QuantiteBlock" class="m-wrap span6" min="1" required>
                                        <span class="add-on">{{ProduitAajouter.Produit.Block.Libelle}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="span4">
                            <div class="control-group">
                                <label class="control-label">Prix</label>
                                <div class="controls">
                                    <input type="number" ng-change="Calculer()" ng-model="ProduitAajouter.PrixBlock" class="m-wrap span12" min="1" required disabled />
                                </div>
                            </div>
                        </div>

                        <div class="span4">
                            <div class="control-group">
                                <label class="control-label">Total</label>
                                <div class="controls">
                                    <input type="text" ng-model="ProduitAajouter.TotalBlock" class="m-wrap span12" disabled>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h4 class="form-section" ng-if="((ProduitAajouter.Produit.Unite.IsBlock && ProduitAajouter.Produit.UniteParBlock > 1) || !ProduitAajouter.Produit.Unite.IsBlock) && (ProduitAajouter.TypeVenteId == TYPE_VENTE_UNITE_KEY)">Vente en unité</h4>
                    <div class="row-fluid" ng-if="((ProduitAajouter.Produit.Unite.IsBlock && ProduitAajouter.Produit.UniteParBlock > 1) || !ProduitAajouter.Produit.Unite.IsBlock) && (ProduitAajouter.TypeVenteId == TYPE_VENTE_UNITE_KEY)">
                        <div class="span4">
                            <div class="control-group">
                                <label class="control-label">Quantité</label>
                                <div class="controls">
                                    <div class="input-append">
                                        <input type="number" name="quantite" ng-change="Calculer()" ng-model="ProduitAajouter.QuantiteUnitaire" min="0" class="m-wrap span6" required />
                                        <span class="add-on">{{ProduitAajouter.Produit.Unite.Libelle}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="span4">
                            <div class="control-group">
                                <label class="control-label">Prix</label>
                                <div class="controls">
                                    <input type="number" ng-change="Calculer()" 1 ng-model="ProduitAajouter.PrixUnitaire" min="1" class="m-wrap span12 number" required disabled />
                                </div>
                            </div>
                        </div>

                        <div class="span4">
                            <div class="control-group">
                                <label class="control-label">Total</label>
                                <div class="controls">
                                    <input type="text" ng-model="ProduitAajouter.TotalUnitaire" class="m-wrap span12" disabled>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn" ng-click="Annuler()">Annuler</button>
        <button type="button" ng-if="panierForm.typeVente.$valid && panierForm.quantite.$valid" data-dismiss="modal" class="btn blue" ng-click="AjouterAuPanier(ProduitAajouter)">Valider</button>
    </div>
</div>

<div id="facture" class="hide">
    <header>
        <!-- <h1>Invoice</h1> -->
        <span><img alt="" src="../assets/myimg/poisson.png"></span>
        <address>
            <p style="font-weight:bold">POISSONNERIE LA GLOIRE</p>
            <p>Abengourou<br>Yakro vers Magasin chouchou</p>
            <p>(225) 56079996</p>
        </address>
    </header>
    <article>
        <table class="meta">
            <tr>
                <td><span>Facture N°</span></td>
                <td><span>[:numFacture]</span></td>
            </tr>
            <tr>
                <td><span>Date</span></td>
                <td><span>[:dateFacture]</span></td>
            </tr>
        </table>
        <table class="inventory">
            <thead>
                <tr>
                    <th><span>Article</span></th>
                    <th><span>Quantité</span></th>
                    <th><span>P.U</span></th>
                    <th><span>Total</span></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="panierItem in Panier">
                    <td><span>{{panierItem.Produit.Libelle}} </span></td>
                    <td style="text-align:center">
                        <span ng-if="panierItem.TypeVenteId == TYPE_VENTE_UNITE_KEY">{{panierItem.QuantiteUnitaire}} {{panierItem.Produit.Unite.Libelle | limitTo : 4}}{{panierItem.Produit.Unite.Libelle.length > 4 ? '.' : ''}}</span>
                        <span ng-if="panierItem.TypeVenteId == TYPE_VENTE_BLOCK_KEY">{{panierItem.QuantiteBlock}} {{panierItem.Produit.Block.Libelle | limitTo : 4}}{{panierItem.Produit.Block.Libelle.length > 4 ? '.' : ''}}</span>
                    </td>
                    <td>
                        <span ng-if="panierItem.TypeVenteId == TYPE_VENTE_UNITE_KEY">{{panierItem.PrixUnitaire}}</span>
                        <span ng-if="panierItem.TypeVenteId == TYPE_VENTE_BLOCK_KEY">{{panierItem.PrixBlock}}</span> 
                    </td>
                    <td style="text-align:right"><span>{{panierItem.Totaux}}</span></td>
                </tr>
            </tbody>
        </table>
        <table class="balance">
            <tr>
                <td style="text-align:left"><span>Montant total</span></td>
                <td style="font-weight:bold"><span>{{TotauxPanier}}</span> F</td>
            </tr>
            <tr>
                <td style="text-align:left"><span>Montant perçu</span></td>
                <td style="font-weight:bold"><span>{{Caisse.MontantPercu}}</span> F</td>
            </tr>
            <tr>
                <td style="text-align:left"><span>Montant rendu</span></td>
                <td style="font-weight:bold"><span>{{Caisse.MontantRendu}}</span> F</td>
            </tr>
        </table>
    </article>
    <aside>
        <!-- <h1><span>Additional Notes</span></h1> -->
        <div>
            <p>Merci de votre visite</p>
            <p>A bientôt</p>
        </div>
    </aside>
</div>

